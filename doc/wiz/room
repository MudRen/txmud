1. 房间的继承.

普通房间: inherit ROOM;
银行: inherit BANK;
当铺: inherit HOCKSHOP;
荒郊野路: inherit DANGER_ROAD;
(继承这个物件玩家晚上走这条路
有可能遇到土匪劫道.)

2. 房间中的标记

set("no_fight",1); 此房间禁止战斗,禁止练功

set("no_beg",1);   此房间禁止乞讨.

set("NORIDE",1 或者 提示信息);
如设置为 1,当玩家骑着坐骑企图进入时收到的禁
止进入的提示信息为系统默认的提示信息:
"xxx 不能起这坐骑进去."
你也可以设置为一个字符串,玩家收到的提示信息
就是你设定的字符串.这样你就可以使玩家根据不
同地点,情节收到不同的提示信息.
原则上所有第二层的建筑均要设定此标记,其它的
地方根据情节取舍.

set("resource/water", 1); 设置此标记的房间
玩家可以在此往容器里灌水.

set("valid_startroom", 1); 可save为起始房间

set( "GATE_ROOM",1 ); 有需要随着昼夜自动开关
的门的房间里必须设定的标记.关于这类房间的写
法下面有详细论述.

set("user_compare",1);
比武场.

set("no_sleep_room",1);
乞丐在此不能睡觉,例如商店.

set("altitude",int);
int 为正整数.
范围为: 100 - 5000.
其中 100 - 500(包括500) 为正常平原高度如不做此标记
系统默认为此范围.
500(大于500) - 1000 (包括1000) 为普通山丘地带,在此类
地带每走一步耗费 1 点气和 1 点神,当神或气小于 5 时
便无法走动.
1000(大于1000) - 2000 (包括2000) 为普通高山地带,在此
类地带每走一步耗费 2 点气 2 点神,当神或气小于 10 时
便无法走动.
2000(大于2000) - 3000 (包括3000) 为高原地带,在此地带
每走一步耗费 3 点气 3 点神,当神或气小于 20 时便无法走
动.
3000(大于3000) - 5000 (包括5000) 为极端地带,在此类地带
每走一步耗费 5 点气 5 点神,当神或气小于 30 时便无法走动
当此人骑着坐骑在以上地带行动,坐骑遵循以上规则,骑坐骑的人
耗费的神和气减半,在普通山丘地带骑坐骑的人不减神和气.

set("outdoors",domain);
户外标记,凡是户外的房间都要设定此标记,domain 必须是这个房间
所在的区域名,也就是这个房间物件所在的上一级目录的目录名.
比如长安城里的户外房间要 set("outdoors","changan");

set("cannot_build_home",1);
这个标记是为了一些在可建房区域内的特殊房间用的，
如某个宅院里的院子、森林、沼泽、山脉、湖泊等，
是outdoors，也有出口，但在这种地方建房是不合理的，
因此在此类特殊房间里要求 set（"cannot_build_home",1）,
在区域 QC 时要注意严格检查此类房间的这个标记。

3. 特殊房间的写作.

城门的写法.

所谓城门就是能随着昼夜更替自动开关的门.
这种房间要在 create 函数里加上一些标记:

	// 这是 gate room 标记.注意 GATE_ROOM 要大写.
	set( "GATE_ROOM",1 );

	// 这是 gate 的方向,注意方向是一个 mapping.
	// 这里说明门的方向在南面,南面连接的房间
	// 为此目录下的 g_south.c 文件.
	// 这个方向的写法和 room 物件的 exits 写法一样.
	set( "gate_dir",(["south" : __DIR__"g_south"]) );

	// 这是门关上以后看到的房间描述.
        // 写法和 room 物件的长描述 long 一样。
        set( "close_look", @LONG
这是关门后看到的房间描述。
LONG
	);

	// 这是 gate 的名称,开关门时此房间内玩家看到的提示要用到.
        set( "gate_name","天水镇北门" );

例子可以参看长安城的城门。

By Find.
